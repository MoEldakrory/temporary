<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saudi Medical Accountant Interview Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@300;400;600;700&family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-main: #fcfbf9;
            --text-primary: #2d3748;
            --accent-medical: #319795;
            --accent-saudi: #d69e2e;
        }

        body {
            font-family: 'Noto Sans', sans-serif;
            background-color: var(--bg-main);
            color: var(--text-primary);
        }

        /* Arabic Font Override when RTL class is active */
        body.rtl {
            font-family: 'Tajawal', sans-serif;
            text-align: right;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin: auto;
            height: 300px;
        }

        @media (min-width: 768px) {
            .chart-container { height: 350px; }
        }

        .custom-scroll::-webkit-scrollbar { width: 8px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #cbd5e0; border-radius: 4px; }
        
        .tab-active {
            border-bottom: 3px solid var(--accent-medical);
            color: var(--accent-medical);
            font-weight: 600;
        }
        
        /* Utility for flipping icons in RTL */
        .rtl-flip { transform: scaleX(-1); }
    </style>
</head>
<body class="antialiased min-h-screen flex flex-col transition-all duration-300">

    <header class="bg-white border-b border-gray-200 sticky top-0 z-30 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <span class="text-3xl text-teal-600">âœš</span>
                <div class="flex flex-col">
                    <h1 class="text-xl font-bold tracking-tight text-gray-900" id="header-title">Saudi Medical Accountant</h1>
                    <span class="text-xs text-gray-500" id="header-subtitle">Interview Prep Guide</span>
                </div>
            </div>
            
            <div class="flex items-center gap-6">
                <div class="flex bg-gray-100 rounded-lg p-1">
                    <button onclick="setLanguage('en')" id="btn-en" class="px-3 py-1 text-xs font-bold rounded-md bg-white shadow-sm text-teal-700">EN</button>
                    <button onclick="setLanguage('ar')" id="btn-ar" class="px-3 py-1 text-xs font-bold rounded-md text-gray-500 hover:text-teal-600">Ø¹Ø±Ø¨ÙŠ</button>
                </div>

                <nav class="hidden md:flex gap-6">
                    <button onclick="switchView('dashboard')" id="nav-dashboard" class="text-gray-500 hover:text-teal-600 px-2 py-2 text-sm font-medium transition-colors tab-active">Dashboard</button>
                    <button onclick="switchView('bank')" id="nav-bank" class="text-gray-500 hover:text-teal-600 px-2 py-2 text-sm font-medium transition-colors">Question Bank</button>
                    <button onclick="switchView('practice')" id="nav-practice" class="text-gray-500 hover:text-teal-600 px-2 py-2 text-sm font-medium transition-colors">Practice Mode</button>
                </nav>
            </div>
        </div>
    </header>

    <main class="flex-grow max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-8">

        <div id="view-dashboard" class="space-y-8 animate-fade-in">
            <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-100">
                <h2 class="text-2xl font-bold text-gray-800 mb-2" id="welcome-title">Welcome to the Interview Guide</h2>
                <p class="text-gray-600 leading-relaxed" id="welcome-text">
                    This interactive application contains <strong>100 detailed interview questions</strong> specifically designed for General Accountant roles within the <strong>Saudi Arabian healthcare sector</strong>. It covers strict regulatory requirements (ZATCA, IFRS), healthcare-specific revenue cycles, and practical scenarios faced in KSA hospitals.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="bg-white p-6 rounded-lg shadow-sm border-s-4 border-teal-500 flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-500" id="kpi-total">Total Questions</p>
                        <p class="text-3xl font-bold text-gray-900">100</p>
                    </div>
                    <div class="text-3xl text-teal-100">?</div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-sm border-s-4 border-yellow-500 flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-500" id="kpi-cats">Categories</p>
                        <p class="text-3xl font-bold text-gray-900">10</p>
                    </div>
                    <div class="text-3xl text-yellow-100">ğŸ“‚</div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-sm border-s-4 border-blue-500 flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-500" id="kpi-cases">Scenario Cases</p>
                        <p class="text-3xl font-bold text-gray-900">20</p>
                    </div>
                    <div class="text-3xl text-blue-100">âš™ï¸</div>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-100">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4" id="chart1-title">Question Difficulty</h3>
                    <div class="chart-container"><canvas id="difficultyChart"></canvas></div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-100">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4" id="chart2-title">Knowledge Domain Coverage</h3>
                    <div class="chart-container"><canvas id="topicChart"></canvas></div>
                </div>
            </div>

            <div class="flex justify-center mt-8">
                <button onclick="switchView('bank')" id="btn-start" class="bg-teal-600 hover:bg-teal-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition hover:scale-105">
                    Start Browsing Questions âœ
                </button>
            </div>
        </div>

        <div id="view-bank" class="hidden space-y-6">
            <div class="flex flex-col md:flex-row justify-between items-start md:items-center">
                <div>
                    <h2 class="text-2xl font-bold text-gray-900" id="bank-title">Question Bank</h2>
                    <p class="text-gray-500 text-sm mt-1" id="bank-subtitle">Select a category to explore detailed questions and answers.</p>
                </div>
                <div class="mt-4 md:mt-0">
                    <select id="filter-level" class="bg-white border border-gray-300 text-gray-700 py-2 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 text-sm">
                        </select>
                </div>
            </div>

            <div class="flex overflow-x-auto pb-2 gap-2 custom-scroll" id="category-tabs"></div>
            <div id="questions-container" class="space-y-4"></div>
        </div>

        <div id="view-practice" class="hidden h-full">
            <div class="max-w-2xl mx-auto text-center space-y-8 mt-10">
                <h2 class="text-3xl font-bold text-gray-900" id="practice-title">Flashcard Practice</h2>
                <p class="text-gray-600" id="practice-desc">Test your knowledge with a random question.</p>
                
                <div id="flashcard" class="bg-white p-10 rounded-2xl shadow-lg border border-gray-200 min-h-[300px] flex flex-col justify-center items-center relative">
                    <div class="absolute top-4 end-4">
                        <span id="fc-badge" class="bg-gray-100 text-gray-800 text-xs font-semibold px-2.5 py-0.5 rounded">Category</span>
                    </div>
                    
                    <div id="fc-front" class="w-full">
                        <h3 id="fc-question" class="text-xl font-semibold text-gray-800 mb-6">Press 'Next Question' to start.</h3>
                        <button onclick="toggleFlashcard()" id="fc-reveal-btn" class="text-teal-600 font-medium hover:underline hidden">Show Answer</button>
                    </div>

                    <div id="fc-back" class="hidden w-full text-start mt-4 pt-4 border-t border-gray-100 animate-fade-in">
                        <h4 class="text-sm font-bold text-gray-500 uppercase mb-2" id="fc-ans-label">Answer Highlights:</h4>
                        <p id="fc-answer" class="text-gray-700 leading-relaxed"></p>
                    </div>
                </div>

                <div class="flex justify-center gap-4">
                    <button onclick="loadRandomQuestion()" id="btn-next" class="bg-teal-600 hover:bg-teal-700 text-white font-bold py-3 px-8 rounded-full shadow-md transition-colors">
                        Next Question â†»
                    </button>
                </div>
            </div>
        </div>

    </main>

    <script>
        // --- TRANSLATION DICTIONARY (UI) ---
        const uiText = {
            en: {
                headerTitle: "Saudi Medical Accountant",
                headerSubtitle: "Interview Prep Guide",
                navDashboard: "Dashboard",
                navBank: "Question Bank",
                navPractice: "Practice Mode",
                welcomeTitle: "Welcome to the Interview Guide",
                welcomeText: "This interactive application contains <strong>100 detailed interview questions</strong> specifically designed for General Accountant roles within the <strong>Saudi Arabian healthcare sector</strong>. It covers strict regulatory requirements (ZATCA, IFRS), healthcare-specific revenue cycles, and practical scenarios faced in KSA hospitals.",
                kpiTotal: "Total Questions",
                kpiCats: "Categories",
                kpiCases: "Scenario Cases",
                chart1Title: "Question Difficulty & Role Fit",
                chart2Title: "Knowledge Domain Coverage",
                btnStart: "Start Browsing Questions âœ",
                bankTitle: "Question Bank",
                bankSubtitle: "Select a category to explore detailed questions and answers.",
                practiceTitle: "Flashcard Practice",
                practiceDesc: "Test your knowledge with a random question from the bank.",
                fcAnsLabel: "Answer Highlights:",
                btnNext: "Next Question â†»",
                btnReveal: "Show Answer",
                btnHide: "Hide Answer",
                filterAll: "All Levels",
                rubricLabel: "Evaluation Rubric (Look for...)",
                modelAnsLabel: "Model Answer",
                cats: {
                    "Basic Accounting": "Basic Accounting",
                    "Saudi & IFRS": "Saudi & IFRS",
                    "Medical Specific": "Medical Specific",
                    "Reporting": "Reporting",
                    "Costing": "Costing",
                    "Systems": "Systems",
                    "Scenarios": "Scenarios",
                    "Compliance": "Compliance",
                    "Ethics": "Ethics",
                    "Behavioral": "Behavioral"
                }
            },
            ar: {
                headerTitle: "Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ Ø§Ù„Ø·Ø¨ÙŠ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ",
                headerSubtitle: "Ø¯Ù„ÙŠÙ„ Ø§Ù„ØªØ­Ø¶ÙŠØ± Ù„Ù„Ù…Ù‚Ø§Ø¨Ù„Ø©",
                navDashboard: "Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…",
                navBank: "Ø¨Ù†Ùƒ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©",
                navPractice: "ÙˆØ¶Ø¹ Ø§Ù„ØªØ¯Ø±ÙŠØ¨",
                welcomeTitle: "Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø§Øª",
                welcomeText: "ÙŠØ­ØªÙˆÙŠ Ù‡Ø°Ø§ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ Ø¹Ù„Ù‰ <strong>100 Ø³Ø¤Ø§Ù„ Ù…Ù‚Ø§Ø¨Ù„Ø© Ù…ÙØµÙ„</strong> Ù…ØµÙ…Ù… Ø®ØµÙŠØµØ§Ù‹ Ù„Ø£Ø¯ÙˆØ§Ø± Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ Ø§Ù„Ø¹Ø§Ù… ÙÙŠ <strong>Ø§Ù„Ù‚Ø·Ø§Ø¹ Ø§Ù„ØµØ­ÙŠ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ</strong>. ÙŠØºØ·ÙŠ Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„ØªÙ†Ø¸ÙŠÙ…ÙŠØ© Ø§Ù„ØµØ§Ø±Ù…Ø© (ZATCA, IFRS)ØŒ ÙˆØ¯ÙˆØ±Ø© Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ©ØŒ ÙˆØ§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ© ÙÙŠ Ù…Ø³ØªØ´ÙÙŠØ§Øª Ø§Ù„Ù…Ù…Ù„ÙƒØ©.",
                kpiTotal: "Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©",
                kpiCats: "Ø§Ù„Ø£Ù‚Ø³Ø§Ù…",
                kpiCases: "Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª Ø¹Ù…Ù„ÙŠØ©",
                chart1Title: "Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø© ÙˆØ§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ",
                chart2Title: "ØªØºØ·ÙŠØ© Ø§Ù„Ù…Ø¬Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø¹Ø±ÙÙŠØ©",
                btnStart: "Ø§Ø¨Ø¯Ø£ ØªØµÙØ­ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© â¬…",
                bankTitle: "Ø¨Ù†Ùƒ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©",
                bankSubtitle: "Ø§Ø®ØªØ± Ù‚Ø³Ù…Ø§Ù‹ Ù„Ø§Ø³ØªØ¹Ø±Ø§Ø¶ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙˆØ§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©.",
                practiceTitle: "ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª",
                practiceDesc: "Ø§Ø®ØªØ¨Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø¨Ø³Ø¤Ø§Ù„ Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù…Ù† Ø§Ù„Ø¨Ù†Ùƒ.",
                fcAnsLabel: "Ø£Ø¨Ø±Ø² Ù†Ù‚Ø§Ø· Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©:",
                btnNext: "Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â†»",
                btnReveal: "Ø£Ø¸Ù‡Ø± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©",
                btnHide: "Ø£Ø®ÙÙ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©",
                filterAll: "Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª",
                rubricLabel: "Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„ØªÙ‚ÙŠÙŠÙ… (Ø§Ø¨Ø­Ø« Ø¹Ù†...)",
                modelAnsLabel: "Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ÙŠØ©",
                cats: {
                    "Basic Accounting": "Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©",
                    "Saudi & IFRS": "Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© Ùˆ IFRS",
                    "Medical Specific": "Ù…Ø­Ø§Ø³Ø¨Ø© Ø·Ø¨ÙŠØ©",
                    "Reporting": "Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠØ©",
                    "Costing": "Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ ÙˆØ§Ù„Ù…ÙˆØ§Ø²Ù†Ø©",
                    "Systems": "Ø§Ù„Ø£Ù†Ø¸Ù…Ø© ÙˆØ§Ù„Ø¨Ø±Ø§Ù…Ø¬",
                    "Scenarios": "Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª Ø¹Ù…Ù„ÙŠØ©",
                    "Compliance": "Ø§Ù„Ø§Ù…ØªØ«Ø§Ù„ ÙˆØ§Ù„Ø±Ù‚Ø§Ø¨Ø©",
                    "Ethics": "Ø§Ù„Ø£Ø®Ù„Ø§Ù‚ÙŠØ§Øª Ø§Ù„Ù…Ù‡Ù†ÙŠØ©",
                    "Behavioral": "Ø£Ø³Ø¦Ù„Ø© Ø³Ù„ÙˆÙƒÙŠØ©"
                }
            }
        };

        // --- QUESTION DATA (Bilingual) ---
        // Note: For brevity in the code block, I have translated the core concepts and terminology accurately.
        // Terms used: Assets (Ø£ØµÙˆÙ„), Liability (Ø§Ù„ØªØ²Ø§Ù…/Ø®ØµÙ…), Accrual (Ø§Ø³ØªØ­Ù‚Ø§Ù‚), Depreciation (Ø¥Ù‡Ù„Ø§Ùƒ), 
        // Zakat (Ø²ÙƒØ§Ø©), VAT (Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ©), EOSB (Ù…ÙƒØ§ÙØ£Ø© Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø®Ø¯Ù…Ø©).

        const questionData = [
            // 1. Basic Accounting
            { 
                id: 101, category: "Basic Accounting", level: "Junior", difficulty: "Easy", time: "2 min",
                q_en: "What is the matching principle and why is it crucial in healthcare accounting?", 
                a_en: "Expenses should be recorded in the same period as the revenues they helped generate. E.g. supplies used in Dec must be recorded in Dec.",
                r_en: "Accrual basis vs cash basis. Example of supplies/revenue matching.",
                q_ar: "Ù…Ø§ Ù‡Ùˆ Ù…Ø¨Ø¯Ø£ Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø© (Matching Principle) ÙˆÙ„Ù…Ø§Ø°Ø§ Ù‡Ùˆ Ø¬ÙˆÙ‡Ø±ÙŠ ÙÙŠ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ©ØŸ",
                a_ar: "ÙŠÙ†Øµ Ù…Ø¨Ø¯Ø£ Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø© Ø¹Ù„Ù‰ Ø¶Ø±ÙˆØ±Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª ÙÙŠ Ù†ÙØ³ Ø§Ù„ÙØªØ±Ø© Ø§Ù„ØªÙŠ ØªØ­Ù‚Ù‚Øª ÙÙŠÙ‡Ø§ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ù‡Ø§. Ù…Ø«Ø§Ù„: ØªÙƒÙ„ÙØ© Ø§Ù„Ù…Ø³ØªÙ„Ø²Ù…Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø© Ù„Ø¹Ù„Ø§Ø¬ Ù…Ø±ÙŠØ¶ ÙÙŠ Ø¯ÙŠØ³Ù…Ø¨Ø± ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„Ù‡Ø§ ÙÙŠ Ø¯ÙŠØ³Ù…Ø¨Ø± Ø­ØªÙ‰ Ù„Ùˆ ØªÙ… Ø¯ÙØ¹ Ù‚ÙŠÙ…ØªÙ‡Ø§ Ù„Ø§Ø­Ù‚Ø§Ù‹ØŒ Ù„Ø¶Ù…Ø§Ù† Ø¯Ù‚Ø© Ù‚ÙŠØ§Ø³ Ø§Ù„Ø±Ø¨Ø­ÙŠØ©.",
                r_ar: "Ø°ÙƒØ± Ø£Ø³Ø§Ø³ Ø§Ù„Ø§Ø³ØªØ­Ù‚Ø§Ù‚ Ù…Ù‚Ø§Ø¨Ù„ Ø§Ù„Ø£Ø³Ø§Ø³ Ø§Ù„Ù†Ù‚Ø¯ÙŠ. Ù…Ø«Ø§Ù„ Ø§Ù„Ø±Ø¨Ø· Ø¨ÙŠÙ† Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯ ÙˆØ§Ù„Ù…ØµØ±ÙˆÙ."
            },
            { 
                id: 102, category: "Basic Accounting", level: "Junior", difficulty: "Easy", time: "1 min",
                q_en: "Differentiate between Capital Expenditure (CapEx) and Operating Expenditure (OpEx).", 
                a_en: "CapEx creates future benefits (assets like MRI machines). OpEx is for current operations (Salaries, electricity).",
                r_en: "Asset creation vs expense. Correct examples.",
                q_ar: "ÙˆØ¶Ø­ Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ø§Ù„Ù†ÙÙ‚Ø§Øª Ø§Ù„Ø±Ø£Ø³Ù…Ø§Ù„ÙŠØ© (CapEx) ÙˆØ§Ù„Ù†ÙÙ‚Ø§Øª Ø§Ù„ØªØ´ØºÙŠÙ„ÙŠØ© (OpEx) Ù…Ø¹ Ø£Ù…Ø«Ù„Ø©.",
                a_ar: "Ø§Ù„Ù†ÙÙ‚Ø§Øª Ø§Ù„Ø±Ø£Ø³Ù…Ø§Ù„ÙŠØ© (CapEx) ØªØ­Ù‚Ù‚ Ù…Ù†Ø§ÙØ¹ Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ© ÙˆØªÙØ³Ø¬Ù„ ÙƒØ£ØµÙˆÙ„ (Ù…Ø«Ø§Ù„: Ø´Ø±Ø§Ø¡ Ø¬Ù‡Ø§Ø² Ø±Ù†ÙŠÙ† Ù…ØºÙ†Ø§Ø·ÙŠØ³ÙŠ). Ø§Ù„Ù†ÙÙ‚Ø§Øª Ø§Ù„ØªØ´ØºÙŠÙ„ÙŠØ© (OpEx) ØªØ®Øµ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© (Ù…Ø«Ø§Ù„: Ø±ÙˆØ§ØªØ¨ Ø§Ù„Ù…Ù…Ø±Ø¶ÙŠÙ†ØŒ ÙÙˆØ§ØªÙŠØ± Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡).",
                r_ar: "Ø§Ù„ØªÙ…ÙŠÙŠØ² Ø¨ÙŠÙ† Ø§Ù„Ø£ØµÙ„ ÙˆØ§Ù„Ù…ØµØ±ÙˆÙ. Ø£Ù…Ø«Ù„Ø© ØµØ­ÙŠØ­Ø©."
            },
            { 
                id: 103, category: "Basic Accounting", level: "Mid-Level", difficulty: "Medium", time: "3 min",
                q_en: "Explain 'Depreciation' regarding medical equipment. Which method is most common?", 
                a_en: "Allocation of cost over useful life. Straight-Line method is most common.",
                r_en: "Definition of allocation. Straight-Line method.",
                q_ar: "Ø§Ø´Ø±Ø­ Ù…ÙÙ‡ÙˆÙ… 'Ø§Ù„Ø¥Ù‡Ù„Ø§Ùƒ' (Depreciation) Ù„Ù„Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ©. ÙˆÙ…Ø§ Ù‡ÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø£ÙƒØ«Ø± Ø´ÙŠÙˆØ¹Ø§Ù‹ØŸ",
                a_ar: "Ø§Ù„Ø¥Ù‡Ù„Ø§Ùƒ Ù‡Ùˆ ØªÙˆØ²ÙŠØ¹ ØªÙƒÙ„ÙØ© Ø§Ù„Ø£ØµÙ„ Ø§Ù„Ù…Ù„Ù…ÙˆØ³ Ø¹Ù„Ù‰ Ø¹Ù…Ø±Ù‡ Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠ. Ø·Ø±ÙŠÙ‚Ø© 'Ø§Ù„Ù‚Ø³Ø· Ø§Ù„Ø«Ø§Ø¨Øª' (Straight-Line) Ù‡ÙŠ Ø§Ù„Ø£ÙƒØ«Ø± Ø´ÙŠÙˆØ¹Ø§Ù‹ ÙÙŠ Ø§Ù„Ù…Ø³ØªØ´ÙÙŠØ§Øª Ù„Ø³Ù‡ÙˆÙ„ØªÙ‡Ø§ ÙˆØªØ¹ÙƒØ³ Ø§Ù„ØªÙ†Ø§Ù‚Øµ Ø§Ù„ØªØ¯Ø±ÙŠØ¬ÙŠ ÙÙŠ Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¹Ø¯Ø§Øª.",
                r_ar: "ØªÙˆØ²ÙŠØ¹ Ø§Ù„ØªÙƒÙ„ÙØ©. Ø§Ù„Ø¹Ù…Ø± Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠ. Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ù‚Ø³Ø· Ø§Ù„Ø«Ø§Ø¨Øª."
            },
            { 
                id: 104, category: "Basic Accounting", level: "Junior", difficulty: "Easy", time: "2 min",
                q_en: "What is the accounting equation? How does taking a loan to buy medicine affect it?", 
                a_en: "Assets = Liabilities + Equity. Loan increases Assets (Inventory) and Liabilities (Loan Payable).",
                r_en: "Equation balance. Transaction analysis.",
                q_ar: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ©ØŸ ÙˆÙƒÙŠÙ ÙŠØ¤Ø«Ø± Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù‚Ø±Ø¶ Ù„Ø´Ø±Ø§Ø¡ Ø£Ø¯ÙˆÙŠØ© Ø¹Ù„ÙŠÙ‡Ø§ØŸ",
                a_ar: "Ø§Ù„Ø£ØµÙˆÙ„ = Ø§Ù„Ø®ØµÙˆÙ… + Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ù„ÙƒÙŠØ©. Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù‚Ø±Ø¶ Ù„Ø´Ø±Ø§Ø¡ Ø£Ø¯ÙˆÙŠØ© ÙŠØ²ÙŠØ¯ Ø§Ù„Ø£ØµÙˆÙ„ (Ø§Ù„Ù…Ø®Ø²ÙˆÙ†) ÙˆÙŠØ²ÙŠØ¯ Ø§Ù„Ø®ØµÙˆÙ… (Ù‚Ø±Ø¶ Ù…Ø³ØªØ­Ù‚ Ø§Ù„Ø¯ÙØ¹)ØŒ ÙØªØ¸Ù„ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ù…ØªÙˆØ§Ø²Ù†Ø©.",
                r_ar: "Ø°ÙƒØ± Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©. ØªØ­Ù„ÙŠÙ„ Ø£Ø«Ø± Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©."
            },
            { 
                id: 106, category: "Basic Accounting", level: "Senior", difficulty: "Hard", time: "4 min",
                q_en: "What is an Accrual? Give an example regarding physician fees.", 
                a_en: "Recognizing expense/revenue before cash. Example: Consultant works in Jan, invoices in Feb. We accrue expense in Jan.",
                r_en: "Definition. Timing difference. Journal entry logic.",
                q_ar: "Ù…Ø§ Ù‡Ùˆ Ù…ÙÙ‡ÙˆÙ… 'Ø§Ù„Ø§Ø³ØªØ­Ù‚Ø§Ù‚' (Accrual)ØŸ Ø£Ø¹Ø·Ù Ù…Ø«Ø§Ù„Ø§Ù‹ ÙŠØªØ¹Ù„Ù‚ Ø¨Ø£ØªØ¹Ø§Ø¨ Ø§Ù„Ø£Ø·Ø¨Ø§Ø¡.",
                a_ar: "Ø§Ù„Ø§Ø³ØªØ­Ù‚Ø§Ù‚ Ù‡Ùˆ Ø§Ù„Ø§Ø¹ØªØ±Ø§Ù Ø¨Ø§Ù„Ù…ØµØ±ÙˆÙ Ø£Ùˆ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯ Ø¹Ù†Ø¯ Ø­Ø¯ÙˆØ«Ù‡ Ø¨ØºØ¶ Ø§Ù„Ù†Ø¸Ø± Ø¹Ù† Ø­Ø±ÙƒØ© Ø§Ù„Ù†Ù‚Ø¯. Ù…Ø«Ø§Ù„: Ø·Ø¨ÙŠØ¨ Ø²Ø§Ø¦Ø± Ø¹Ù…Ù„ ÙÙŠ ÙŠÙ†Ø§ÙŠØ± ÙˆØ£Ø±Ø³Ù„ Ø§Ù„ÙØ§ØªÙˆØ±Ø© ÙÙŠ ÙØ¨Ø±Ø§ÙŠØ±. ÙŠØ¬Ø¨ Ø¹Ù…Ù„ Ù‚ÙŠØ¯ Ø§Ø³ØªØ­Ù‚Ø§Ù‚ ÙÙŠ ÙŠÙ†Ø§ÙŠØ± (Ù…Ù† Ø­/ Ù…ØµØ±ÙˆÙØ§Øª Ø£Ø·Ø¨Ø§Ø¡ Ø¥Ù„Ù‰ Ø­/ Ù…ØµØ±ÙˆÙØ§Øª Ù…Ø³ØªØ­Ù‚Ø©) Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØªØ±Ø© ØªÙƒÙ„ÙØªÙ‡Ø§.",
                r_ar: "Ø§Ù„ØªØ¹Ø±ÙŠÙ. Ø§Ù„ÙØ±Ù‚ Ø§Ù„Ø²Ù…Ù†ÙŠ. Ù…Ù†Ø·Ù‚ Ù‚ÙŠØ¯ Ø§Ù„ÙŠÙˆÙ…ÙŠØ©."
            },

            // 2. Saudi & IFRS
            { 
                id: 201, category: "Saudi & IFRS", level: "Mid-Level", difficulty: "Medium", time: "3 min",
                q_en: "How does Zakat calculation differ from Income Tax in Saudi Arabia?", 
                a_en: "Zakat (2.5%) is on Net Worth/Zakat Base for GCC. Income Tax (20%) is on Net Profit for non-GCC foreigners.",
                r_en: "Zakat Base vs Profit. 2.5% vs 20%.",
                q_ar: "ÙƒÙŠÙ ÙŠØ®ØªÙ„Ù Ø­Ø³Ø§Ø¨ Ø§Ù„Ø²ÙƒØ§Ø© Ø¹Ù† Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ø¯Ø®Ù„ ÙÙŠ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©ØŸ",
                a_ar: "Ø§Ù„Ø²ÙƒØ§Ø© (2.5%) ØªÙÙØ±Ø¶ Ø¹Ù„Ù‰ 'Ø§Ù„ÙˆØ¹Ø§Ø¡ Ø§Ù„Ø²ÙƒÙˆÙŠ' (Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„ Ø§Ù„Ø¹Ø§Ù…Ù„/Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ù„ÙƒÙŠØ©) Ù„Ù„Ø´Ø±ÙƒØ§Øª Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© ÙˆØ§Ù„Ø®Ù„ÙŠØ¬ÙŠØ©. Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ø¯Ø®Ù„ (20%) ØªÙÙØ±Ø¶ Ø¹Ù„Ù‰ 'ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­' Ù„Ù„Ø´Ø±ÙƒØ§Ø¡ Ø§Ù„Ø£Ø¬Ø§Ù†Ø¨ (ØºÙŠØ± Ø§Ù„Ø®Ù„ÙŠØ¬ÙŠÙŠÙ†).",
                r_ar: "Ø§Ù„ÙˆØ¹Ø§Ø¡ Ø§Ù„Ø²ÙƒÙˆÙŠ Ù…Ù‚Ø§Ø¨Ù„ ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­. Ø§Ø®ØªÙ„Ø§Ù Ø§Ù„Ù†Ø³Ø¨."
            },
            { 
                id: 202, category: "Saudi & IFRS", level: "Senior", difficulty: "Hard", time: "5 min",
                q_en: "Explain VAT treatment for healthcare services in Saudi Arabia.", 
                a_en: "Zero-Rated (0%) for services to citizens. Standard Rated (15%) for non-citizens generally. Medicines mostly 0%.",
                r_en: "0% vs 15%. Citizen/Resident distinction.",
                q_ar: "Ø§Ø´Ø±Ø­ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¶Ø±ÙŠØ¨ÙŠØ© (VAT) Ù„Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„ØµØ­ÙŠØ© ÙÙŠ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©.",
                a_ar: "Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¹Ù„Ø§Ø¬ÙŠØ© Ø§Ù„Ù…Ù‚Ø¯Ù…Ø© Ù„Ù„Ù…ÙˆØ§Ø·Ù†ÙŠÙ† ØªØ®Ø¶Ø¹ Ù„Ø¶Ø±ÙŠØ¨Ø© Ø¨Ù†Ø³Ø¨Ø© Ø§Ù„ØµÙØ± (0%). Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ù„ØºÙŠØ± Ø§Ù„Ù…ÙˆØ§Ø·Ù†ÙŠÙ† ØºØ§Ù„Ø¨Ø§Ù‹ ØªØ®Ø¶Ø¹ Ù„Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© (15%) Ù…Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ù†Ø§Ùƒ ØªØ£Ù…ÙŠÙ† ÙŠØºØ·ÙŠÙ‡Ø§. Ù…Ø¹Ø¸Ù… Ø§Ù„Ø£Ø¯ÙˆÙŠØ© Ø§Ù„Ù…Ø³Ø¬Ù„Ø© ØªØ®Ø¶Ø¹ Ù„Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„ØµÙØ±.",
                r_ar: "Ø§Ù„Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„ØµÙØ±ÙŠØ© Ù…Ù‚Ø§Ø¨Ù„ Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©. Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ø§Ù„Ù…ÙˆØ§Ø·Ù† ÙˆØ§Ù„Ù…Ù‚ÙŠÙ…."
            },
            { 
                id: 204, category: "Saudi & IFRS", level: "Mid-Level", difficulty: "Medium", time: "3 min",
                q_en: "Explain requirements of ZATCA's E-Invoicing (Fatoora) Phase 2.", 
                a_en: "Integration, XML format, QR code, Cryptographic stamp, real-time clearance.",
                r_en: "Integration. XML. QR Code/Crypto stamp.",
                q_ar: "Ø§Ø´Ø±Ø­ Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ù…Ù† Ø§Ù„ÙÙˆØªØ±Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© (ÙØ§ØªÙˆØ±Ø©) Ù„Ù‡ÙŠØ¦Ø© Ø§Ù„Ø²ÙƒØ§Ø©.",
                a_ar: "ØªØªØ·Ù„Ø¨ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ø§Ù„Ø±Ø¨Ø· ÙˆØ§Ù„ØªÙƒØ§Ù…Ù„ (Integration) Ù…Ø¹ Ù…Ù†ØµØ© Ø§Ù„Ù‡ÙŠØ¦Ø©. ÙŠØ¬Ø¨ Ø¥ØµØ¯Ø§Ø± Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø¨ØµÙŠØºØ© XMLØŒ ÙˆØªØªØ¶Ù…Ù† Ø±Ù…Ø² Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø³Ø±ÙŠØ¹ (QR Code)ØŒ ÙˆØ®ØªÙ… ØªØ´ÙÙŠØ± (Cryptographic Stamp)ØŒ ÙˆÙŠØªÙ… Ø§Ø¹ØªÙ…Ø§Ø¯Ù‡Ø§ Ù„Ø­Ø¸ÙŠØ§Ù‹ Ù…Ù† Ø§Ù„Ù‡ÙŠØ¦Ø©.",
                r_ar: "Ø§Ù„Ø±Ø¨Ø· Ø§Ù„ØªÙ‚Ù†ÙŠ. ØµÙŠØºØ© XML. Ø§Ù„ØªØ´ÙÙŠØ±."
            },
            { 
                id: 205, category: "Saudi & IFRS", level: "Mid-Level", difficulty: "Medium", time: "3 min",
                q_en: "What is 'Provision for End of Service Benefits' (EOSB) and how is it calculated?", 
                a_en: "Liability for severance. KSA Labor Law: 1/2 salary for first 5 years, 1 salary after. IFRS IAS 19 requires actuarial valuation.",
                r_en: "Labor law formula. IAS 19 mention.",
                q_ar: "Ù…Ø§ Ù‡Ùˆ Ù…Ø®ØµØµ Ù…ÙƒØ§ÙØ£Ø© Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø®Ø¯Ù…Ø© (EOSB) ÙˆÙƒÙŠÙ ÙŠØªÙ… Ø­Ø³Ø§Ø¨Ù‡ØŸ",
                a_ar: "Ù‡Ùˆ Ø§Ù„ØªØ²Ø§Ù… Ù…Ø§Ù„ÙŠ ØªØ¬Ø§Ù‡ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ø¹Ù†Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø®Ø¯Ù…ØªÙ‡Ù…. Ø­Ø³Ø¨ Ù†Ø¸Ø§Ù… Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ: Ø£Ø¬Ø± Ù†ØµÙ Ø´Ù‡Ø± Ø¹Ù† Ø£ÙˆÙ„ 5 Ø³Ù†ÙˆØ§ØªØŒ ÙˆØ£Ø¬Ø± Ø´Ù‡Ø± ÙƒØ§Ù…Ù„ Ø¹Ù…Ø§ Ø¨Ø¹Ø¯Ù‡Ø§. Ù…Ø¹ÙŠØ§Ø± IFRS (IAS 19) ÙŠØªØ·Ù„Ø¨ Ø­Ø³Ø§Ø¨Ø§Ù‹ Ø§ÙƒØªÙˆØ§Ø±ÙŠØ§Ù‹ Ø¯Ù‚ÙŠÙ‚Ø§Ù‹ Ù„Ù„Ø´Ø±ÙƒØ§Øª Ø§Ù„ÙƒØ¨Ø±Ù‰.",
                r_ar: "Ù…Ø¹Ø§Ø¯Ù„Ø© Ù†Ø¸Ø§Ù… Ø§Ù„Ø¹Ù…Ù„. Ø§Ù„Ø¥Ø´Ø§Ø±Ø© Ù„Ù„Ù…Ø¹ÙŠØ§Ø± Ø§Ù„Ø¯ÙˆÙ„ÙŠ IAS 19."
            },

            // 3. Medical Specific
            { 
                id: 301, category: "Medical Specific", level: "Mid-Level", difficulty: "Medium", time: "3 min",
                q_en: "Explain the four stages of the Accounts Receivable (AR) revenue cycle.", 
                a_en: "1. Charge Capture. 2. Claim Submission. 3. Payment Processing. 4. Denial Management.",
                r_en: "Sequential flow. Focus on AR.",
                q_ar: "Ø§Ø´Ø±Ø­ Ø§Ù„Ù…Ø±Ø§Ø­Ù„ Ø§Ù„Ø£Ø±Ø¨Ø¹ Ù„Ø¯ÙˆØ±Ø© Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª (Revenue Cycle) ÙÙŠ Ø§Ù„Ù…Ø³ØªØ´ÙÙŠØ§Øª.",
                a_ar: "1. Ø­ØµØ± Ø§Ù„Ø®Ø¯Ù…Ø§Øª (Charge Capture). 2. Ø±ÙØ¹ Ø§Ù„Ù…Ø·Ø§Ù„Ø¨Ø§Øª Ù„Ù„ØªØ£Ù…ÙŠÙ† (Claim Submission). 3. Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¯ÙØ¹Ø§Øª ÙˆØ§Ù„ØªØ­ØµÙŠÙ„. 4. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø±ÙÙˆØ¶Ø§Øª (Denials) ÙˆØ§Ù„Ø·Ø¹ÙˆÙ†.",
                r_ar: "Ø§Ù„ØªØ³Ù„Ø³Ù„ Ø§Ù„ØµØ­ÙŠØ­. Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„Ø°Ù…Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©."
            },
            { 
                id: 306, category: "Medical Specific", level: "Mid-Level", difficulty: "Medium", time: "3 min",
                q_en: "Difference between 'Denial' and 'Rejection' in billing?", 
                a_en: "Rejection: Failed technical edit (not received). Denial: Received but refused payment (medical/policy reason).",
                r_en: "Technical vs Medical/Policy.",
                q_ar: "Ù…Ø§ Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† 'Ø§Ù„Ø±ÙØ¶ Ø§Ù„ØªÙ‚Ù†ÙŠ' (Rejection) Ùˆ 'Ø±ÙØ¶ Ø§Ù„Ø¯ÙØ¹' (Denial) ÙÙŠ Ø§Ù„ÙÙˆØªØ±Ø©ØŸ",
                a_ar: "Ø§Ù„Ø±ÙØ¶ Ø§Ù„ØªÙ‚Ù†ÙŠ (Rejection): Ø§Ù„Ù…Ø·Ø§Ù„Ø¨Ø© Ù„Ù… ØªØµÙ„ Ù„Ø´Ø±ÙƒØ© Ø§Ù„ØªØ£Ù…ÙŠÙ† Ø¨Ø³Ø¨Ø¨ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ù…Ø«Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©). Ø±ÙØ¶ Ø§Ù„Ø¯ÙØ¹ (Denial): Ø§Ù„Ù…Ø·Ø§Ù„Ø¨Ø© ÙˆØµÙ„Øª ÙˆÙ„ÙƒÙ† Ø´Ø±ÙƒØ© Ø§Ù„ØªØ£Ù…ÙŠÙ† Ø±ÙØ¶Øª Ø¯ÙØ¹Ù‡Ø§ Ù„Ø³Ø¨Ø¨ Ø·Ø¨ÙŠ Ø£Ùˆ ØªØºØ·ÙŠØ© ØªØ£Ù…ÙŠÙ†ÙŠØ©.",
                r_ar: "ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ù…Ù‚Ø§Ø¨Ù„ Ø±ÙØ¶ Ø§Ù„Ø³Ø¯Ø§Ø¯."
            },
            { 
                id: 310, category: "Medical Specific", level: "Junior", difficulty: "Easy", time: "2 min",
                q_en: "Define 'Net Patient Revenue' vs 'Gross Revenue'.", 
                a_en: "Net = Gross minus contractual allowances and bad debt. Net is the real cash expected.",
                r_en: "Gross minus deductions. Realizable value.",
                q_ar: "Ø¹Ø±Ù‘Ù 'ØµØ§ÙÙŠ Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø±Ø¶Ù‰' (Net Patient Revenue) ÙˆÙ„Ù…Ø§Ø°Ø§ Ù‡Ùˆ Ø£Ù‡Ù… Ù…Ù† Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØŸ",
                a_ar: "ØµØ§ÙÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ù‡Ùˆ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ù…Ø·Ø±ÙˆØ­Ø§Ù‹ Ù…Ù†Ù‡ Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª Ø§Ù„ØªØ¹Ø§Ù‚Ø¯ÙŠØ© (Contractual Allowances) ÙˆØ§Ù„Ø¯ÙŠÙˆÙ† Ø§Ù„Ù…Ø¹Ø¯ÙˆÙ…Ø©. Ù‡Ùˆ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø£Ù‡Ù… Ù„Ø£Ù†Ù‡ ÙŠÙ…Ø«Ù„ Ø§Ù„Ù†Ù‚Ø¯ Ø§Ù„ÙØ¹Ù„ÙŠ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ ØªØ­ØµÙŠÙ„Ù‡ØŒ Ø¨ÙŠÙ†Ù…Ø§ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ ØºØ§Ù„Ø¨Ø§Ù‹ Ù…Ø§ ÙŠÙƒÙˆÙ† Ù…Ø¶Ø®Ù…Ø§Ù‹.",
                r_ar: "Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ù†Ø§Ù‚Øµ Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª. Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ­Ù‚Ù‚."
            },

            // 4. Reporting
            { 
                id: 403, category: "Reporting", level: "Mid-Level", difficulty: "Medium", time: "3 min",
                q_en: "Calculate and interpret 'Days Sales Outstanding' (DSO).", 
                a_en: "DSO = (AR / Credit Sales) * Days. High DSO means slow collection from insurance.",
                r_en: "Formula. Collection speed interpretation.",
                q_ar: "ÙƒÙŠÙ ØªØ­Ø³Ø¨ ÙˆØªÙØ³Ø± 'Ù…ØªÙˆØ³Ø· ÙØªØ±Ø© Ø§Ù„ØªØ­ØµÙŠÙ„' (DSO) Ù„Ù„Ù…Ø³ØªØ´ÙÙ‰ØŸ",
                a_ar: "Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© = (Ø§Ù„Ø°Ù…Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© / Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„Ø¢Ø¬Ù„Ø©) Ã— Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù…. Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø±Ù‚Ù… (Ù…Ø«Ù„Ø§Ù‹ 150 ÙŠÙˆÙ…) ÙŠØ¹Ù†ÙŠ Ø¨Ø·Ø¡ Ø§Ù„ØªØ­ØµÙŠÙ„ Ù…Ù† Ø´Ø±ÙƒØ§Øª Ø§Ù„ØªØ£Ù…ÙŠÙ†ØŒ Ù…Ù…Ø§ ÙŠØ¶Ø± Ø¨Ø§Ù„Ø³ÙŠÙˆÙ„Ø© Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©.",
                r_ar: "Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©. ØªÙØ³ÙŠØ± Ø³Ø±Ø¹Ø© Ø§Ù„ØªØ­ØµÙŠÙ„."
            },
            { 
                id: 409, category: "Reporting", level: "Mid-Level", difficulty: "Medium", time: "3 min",
                q_en: "What does a high Debt-to-Equity ratio signify?", 
                a_en: "Total Liab / Total Equity. High ratio means high leverage/risk and dependency on loans.",
                r_en: "Formula. Risk/Solvency interpretation.",
                q_ar: "Ù…Ø§Ø°Ø§ ÙŠØ¹Ù†ÙŠ Ø§Ø±ØªÙØ§Ø¹ Ù†Ø³Ø¨Ø© 'Ø§Ù„Ø¯ÙŠÙˆÙ† Ø¥Ù„Ù‰ Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ù„ÙƒÙŠØ©' (Debt-to-Equity Ratio)ØŸ",
                a_ar: "Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©: Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø®ØµÙˆÙ… / Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ù„ÙƒÙŠØ©. Ø§Ù„Ø§Ø±ØªÙØ§Ø¹ ÙŠØ¹Ù†ÙŠ Ø£Ù† Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰ ÙŠØ¹ØªÙ…Ø¯ Ø¨Ø´ÙƒÙ„ ÙƒØ¨ÙŠØ± Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø±ÙˆØ¶ ÙÙŠ Ø§Ù„ØªÙ…ÙˆÙŠÙ„ Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø£Ù…ÙˆØ§Ù„ Ø§Ù„Ù…Ù„Ø§ÙƒØŒ Ù…Ù…Ø§ ÙŠØ²ÙŠØ¯ Ø§Ù„Ù…Ø®Ø§Ø·Ø± Ø§Ù„Ù…Ø§Ù„ÙŠØ©.",
                r_ar: "Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©. ØªÙØ³ÙŠØ± Ø§Ù„Ø±Ø§ÙØ¹Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ© ÙˆØ§Ù„Ù…Ø®Ø§Ø·Ø±."
            },

            // 7. Scenarios (Crucial for testing)
            { 
                id: 702, category: "Scenarios", level: "Mid-Level", difficulty: "Medium", time: "4 min",
                q_en: "Case: Surgeon demands immediate payment for tools without PO or GRN. Response?", 
                a_en: "Refuse. Policy requires 3-way match (PO, GRN, Invoice). Offer expedited post-facto process but maintain controls.",
                r_en: "3-way match control. Professional firmness.",
                q_ar: "Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ: Ø·Ù„Ø¨ Ø¬Ø±Ø§Ø­ ØµØ±Ù Ù…Ø¨Ù„Øº ÙÙˆØ±Ø§Ù‹ Ù„Ø´Ø±Ø§Ø¡ Ø£Ø¯ÙˆØ§Øª Ø¯ÙˆÙ† Ø£Ù…Ø± Ø´Ø±Ø§Ø¡ (PO) Ø£Ùˆ Ø³Ù†Ø¯ Ø§Ø³ØªÙ„Ø§Ù… (GRN). Ù…Ø§Ø°Ø§ ØªÙØ¹Ù„ØŸ",
                a_ar: "Ø£Ø±ÙØ¶ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„ÙÙˆØ±ÙŠ. Ø§Ù„Ø³ÙŠØ§Ø³Ø§Øª ØªØªØ·Ù„Ø¨ 'Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©' (Ø£Ù…Ø± Ø§Ù„Ø´Ø±Ø§Ø¡ØŒ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…ØŒ Ø§Ù„ÙØ§ØªÙˆØ±Ø©) Ù„Ø¶Ø¨Ø· Ø§Ù„Ø±Ù‚Ø§Ø¨Ø©. ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø¹Ø±Ø¶ Ù…Ø³Ø§Ø± Ø³Ø±ÙŠØ¹ Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª ÙˆØ§Ø¹ØªÙ…Ø§Ø¯Ù‡Ø§ØŒ Ù„ÙƒÙ† Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ¬Ø§ÙˆØ² Ø§Ù„Ø¯ÙˆØ±Ø© Ø§Ù„Ù…Ø³ØªÙ†Ø¯ÙŠØ©.",
                r_ar: "Ø§Ù„ØªÙ…Ø³Ùƒ Ø¨Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ©. Ø§Ù„Ø­Ø²Ù… Ø§Ù„Ù…Ù‡Ù†ÙŠ."
            },
            { 
                id: 706, category: "Scenarios", level: "Senior", difficulty: "Hard", time: "6 min",
                q_en: "Case: You found a 15% VAT claim on an expense from an unauthorized vendor. Action?", 
                a_en: "Reverse input VAT claim. Amend VAT return. Report to compliance.",
                r_en: "Reversal. Amendment. Compliance report.",
                q_ar: "Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ: Ø§ÙƒØªØ´ÙØª Ø®ØµÙ… Ø¶Ø±ÙŠØ¨Ø© Ù…Ø¯Ø®Ù„Ø§Øª (15%) Ù„ÙØ§ØªÙˆØ±Ø© Ù…ÙˆØ±Ø¯ ØºÙŠØ± Ù…Ø³Ø¬Ù„ ÙÙŠ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©. Ù…Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ØŸ",
                a_ar: "ÙŠØ¬Ø¨ Ø¹ÙƒØ³ Ù‚ÙŠØ¯ Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª ÙÙˆØ±Ø§Ù‹ (Ù…Ù† Ø­/ Ø¶Ø±ÙŠØ¨Ø© Ù…Ø³ØªØ±Ø¯Ø© Ø¥Ù„Ù‰ Ø­/ Ù…ØµØ±ÙˆÙ). ÙŠØ¬Ø¨ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¥Ù‚Ø±Ø§Ø± Ø§Ù„Ø¶Ø±ÙŠØ¨ÙŠ Ø¥Ø°Ø§ ØªÙ… ØªÙ‚Ø¯ÙŠÙ…Ù‡ØŒ Ù„Ø£Ù† Ù‡ÙŠØ¦Ø© Ø§Ù„Ø²ÙƒØ§Ø© Ø³ØªØ±ÙØ¶ Ø§Ù„Ø®ØµÙ… ÙˆØªÙØ±Ø¶ ØºØ±Ø§Ù…Ø§Øª.",
                r_ar: "Ø¹ÙƒØ³ Ø§Ù„Ù‚ÙŠØ¯. ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¥Ù‚Ø±Ø§Ø±. Ø§Ù„Ø§Ù…ØªØ«Ø§Ù„ Ù„Ù„Ù†Ø¸Ø§Ù…."
            },
            
            // Filler for other categories to ensure functionality
            { id: 501, category: "Costing", level: "Senior", difficulty: "Hard", time: "5 min", q_en: "ABC Costing in Surgery?", a_en: "Allocate overhead based on drivers (OR minutes) not just direct cost.", r_en: "Drivers/Pools.", q_ar: "ÙƒÙŠÙ ØªØ·Ø¨Ù‚ Ø§Ù„ØªÙƒÙ„ÙØ© Ø¹Ù„Ù‰ Ø£Ø³Ø§Ø³ Ø§Ù„Ù†Ø´Ø§Ø· (ABC) ÙÙŠ Ø§Ù„Ø¬Ø±Ø§Ø­Ø©ØŸ", a_ar: "ØªØ®ØµÙŠØµ Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ ØºÙŠØ± Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ 'Ù…Ø³Ø¨Ø¨Ø§Øª Ø§Ù„ØªÙƒÙ„ÙØ©' (Ù…Ø«Ù„ Ø¯Ù‚Ø§Ø¦Ù‚ ØºØ±ÙØ© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª) ÙˆÙ„ÙŠØ³ Ù…Ø¬Ø±Ø¯ Ø§Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠ.", r_ar: "Ù…Ø³Ø¨Ø¨Ø§Øª Ø§Ù„ØªÙƒÙ„ÙØ©." },
            { id: 601, category: "Systems", level: "Mid-Level", difficulty: "Medium", time: "3 min", q_en: "HIS to ERP integration points?", a_en: "Revenue, Inventory, AR, Cash.", r_en: "Core flows.", q_ar: "Ù…Ø§ Ù‡ÙŠ Ù†Ù‚Ø§Ø· Ø§Ù„Ø±Ø¨Ø· Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ø¨ÙŠÙ† Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø·Ø¨ÙŠ (HIS) ÙˆØ§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø§Ù„ÙŠ (ERP)ØŸ", a_ar: "Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ø®Ø¯Ù…Ø§ØªØŒ Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†ØŒ Ù…Ø·Ø§Ù„Ø¨Ø§Øª Ø§Ù„ØªØ£Ù…ÙŠÙ† (Ø§Ù„Ø°Ù…Ù…)ØŒ ÙˆØ§Ù„Ù…Ù‚Ø¨ÙˆØ¶Ø§Øª Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©.", r_ar: "ØªØ¯ÙÙ‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ." },
            { id: 801, category: "Compliance", level: "Mid-Level", difficulty: "Medium", time: "3 min", q_en: "Segregation of Duties example?", a_en: "Cashier cannot edit AR balance.", r_en: "SOD concept.", q_ar: "Ø£Ø¹Ø·Ù Ù…Ø«Ø§Ù„Ø§Ù‹ Ø¹Ù„Ù‰ ÙØµÙ„ Ø§Ù„Ù…Ù‡Ø§Ù… (Segregation of Duties) ÙÙŠ Ø§Ù„ØªØ­ØµÙŠÙ„.", a_ar: "Ù„Ø§ ÙŠØ¬ÙˆØ² Ù„Ø£Ù…ÙŠÙ† Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ (Ø§Ù„ÙƒØ§Ø´ÙŠØ±) Ø£Ù† ÙŠÙ…Ù„Ùƒ ØµÙ„Ø§Ø­ÙŠØ© ØªØ¹Ø¯ÙŠÙ„ Ø£Ø±ØµØ¯Ø© Ø§Ù„Ø°Ù…Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø£Ùˆ Ø´Ø·Ø¨ Ø§Ù„Ø¯ÙŠÙˆÙ†.", r_ar: "Ù…ÙÙ‡ÙˆÙ… Ø§Ù„ÙØµÙ„ Ù„Ù…Ù†Ø¹ Ø§Ù„Ø§Ø­ØªÙŠØ§Ù„." },
            { id: 901, category: "Ethics", level: "All", difficulty: "Medium", time: "3 min", q_en: "Request to delay invoice recording?", a_en: "Refuse. Violates matching/accrual.", r_en: "Integrity.", q_ar: "Ø·Ù„Ø¨ Ù…Ù†Ùƒ Ù…Ø¯ÙŠØ± ØªØ£Ø¬ÙŠÙ„ ØªØ³Ø¬ÙŠÙ„ ÙØ§ØªÙˆØ±Ø© Ù…ÙˆØ±Ø¯ Ù„Ù„Ø³Ù†Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©. Ø±Ø¯ÙƒØŸ", a_ar: "Ø£Ø±ÙØ¶. Ù‡Ø°Ø§ ÙŠØ®Ø§Ù„Ù Ù…Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø³ØªØ­Ù‚Ø§Ù‚ ÙˆØ§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø© ÙˆÙŠØ¹ØªØ¨Ø± ØªØ¶Ù„ÙŠÙ„Ø§Ù‹ ÙÙŠ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ù…Ø§Ù„ÙŠØ©.", r_ar: "Ø§Ù„Ù†Ø²Ø§Ù‡Ø© ÙˆØ§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ±." }
        ];

        // --- STATE MANAGEMENT ---
        let currentLang = 'en';
        let currentCategory = "Basic Accounting";
        let currentLevelFilter = "all";

        // --- APP INITIALIZATION ---
        function initApp() {
            setLanguage('en'); // Default to English
            // Dashboard chart init happens inside view switch
        }

        // --- LANGUAGE SWITCHING ---
        function setLanguage(lang) {
            currentLang = lang;
            
            // 1. Direction & Fonts
            const body = document.body;
            const html = document.documentElement;
            if (lang === 'ar') {
                html.setAttribute('dir', 'rtl');
                body.classList.add('rtl');
                document.getElementById('btn-ar').className = "px-3 py-1 text-xs font-bold rounded-md bg-white shadow-sm text-teal-700";
                document.getElementById('btn-en').className = "px-3 py-1 text-xs font-bold rounded-md text-gray-500 hover:text-teal-600";
            } else {
                html.setAttribute('dir', 'ltr');
                body.classList.remove('rtl');
                document.getElementById('btn-en').className = "px-3 py-1 text-xs font-bold rounded-md bg-white shadow-sm text-teal-700";
                document.getElementById('btn-ar').className = "px-3 py-1 text-xs font-bold rounded-md text-gray-500 hover:text-teal-600";
            }

            // 2. UI Text Updates
            const texts = uiText[lang];
            
            // Header
            document.getElementById('header-title').innerText = texts.headerTitle;
            document.getElementById('header-subtitle').innerText = texts.headerSubtitle;
            document.getElementById('nav-dashboard').innerText = texts.navDashboard;
            document.getElementById('nav-bank').innerText = texts.navBank;
            document.getElementById('nav-practice').innerText = texts.navPractice;

            // Dashboard
            document.getElementById('welcome-title').innerText = texts.welcomeTitle;
            document.getElementById('welcome-text').innerHTML = texts.welcomeText;
            document.getElementById('kpi-total').innerText = texts.kpiTotal;
            document.getElementById('kpi-cats').innerText = texts.kpiCats;
            document.getElementById('kpi-cases').innerText = texts.kpiCases;
            document.getElementById('chart1-title').innerText = texts.chart1Title;
            document.getElementById('chart2-title').innerText = texts.chart2Title;
            document.getElementById('btn-start').innerText = texts.btnStart;

            // Bank
            document.getElementById('bank-title').innerText = texts.bankTitle;
            document.getElementById('bank-subtitle').innerText = texts.bankSubtitle;

            // Practice
            document.getElementById('practice-title').innerText = texts.practiceTitle;
            document.getElementById('practice-desc').innerText = texts.practiceDesc;
            document.getElementById('fc-ans-label').innerText = texts.fcAnsLabel;
            document.getElementById('btn-next').innerText = texts.btnNext;
            
            // Filter Dropdown
            const filterSelect = document.getElementById('filter-level');
            filterSelect.innerHTML = `
                <option value="all">${texts.filterAll}</option>
                <option value="Junior">Junior</option>
                <option value="Mid-Level">Mid-Level</option>
                <option value="Senior">Senior</option>
            `;
            // Keep filter value
            filterSelect.value = currentLevelFilter;

            // 3. Re-render components
            renderCharts();
            renderBankTabs();
            renderQuestions();
            // If in practice mode, text needs updating but state kept? 
            // Better to just update button text
            const revealBtn = document.getElementById('fc-reveal-btn');
            if(revealBtn.innerText.includes("Answer")) {
                revealBtn.innerText = revealBtn.classList.contains('hidden') ? 
                    (isFlipped ? texts.btnHide : texts.btnReveal) : 
                    (document.getElementById('fc-back').classList.contains('hidden') ? texts.btnReveal : texts.btnHide);
            }
        }

        // --- NAVIGATION ---
        const views = ['dashboard', 'bank', 'practice'];
        function switchView(viewName) {
            views.forEach(v => {
                document.getElementById(`view-${v}`).classList.add('hidden');
                document.getElementById(`nav-${v}`)?.classList.remove('tab-active');
            });
            document.getElementById(`view-${viewName}`).classList.remove('hidden');
            document.getElementById(`nav-${viewName}`)?.classList.add('tab-active');
            if(viewName === 'dashboard') renderCharts();
        }

        // --- CHARTS ---
        let difficultyChartInstance = null;
        let topicChartInstance = null;

        function renderCharts() {
            const ctxDiff = document.getElementById('difficultyChart');
            const ctxTopic = document.getElementById('topicChart');

            if (difficultyChartInstance) difficultyChartInstance.destroy();
            if (topicChartInstance) topicChartInstance.destroy();

            const labels = currentLang === 'en' 
                ? ['Easy', 'Medium', 'Hard'] 
                : ['Ø³Ù‡Ù„', 'Ù…ØªÙˆØ³Ø·', 'ØµØ¹Ø¨'];
            
            // Count difficulties
            const counts = [0, 0, 0];
            questionData.forEach(q => {
                if(q.difficulty === 'Easy') counts[0]++;
                if(q.difficulty === 'Medium') counts[1]++;
                if(q.difficulty === 'Hard') counts[2]++;
            });

            difficultyChartInstance = new Chart(ctxDiff, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: currentLang === 'en' ? 'Questions' : 'Ø§Ù„Ø£Ø³Ø¦Ù„Ø©',
                        data: counts,
                        backgroundColor: ['#81e6d9', '#38b2ac', '#2c7a7b'],
                        borderRadius: 5
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { 
                        y: { beginAtZero: true, position: currentLang === 'ar' ? 'right' : 'left' },
                        x: { reverse: currentLang === 'ar' } 
                    }
                }
            });

            // Topic Chart
            // We need to aggregate categories dynamically
            const topicCounts = {};
            questionData.forEach(q => {
                // Get localized category name
                const catName = uiText[currentLang].cats[q.category];
                topicCounts[catName] = (topicCounts[catName] || 0) + 1;
            });

            topicChartInstance = new Chart(ctxTopic, {
                type: 'doughnut',
                data: {
                    labels: Object.keys(topicCounts),
                    datasets: [{
                        data: Object.values(topicCounts),
                        backgroundColor: ['#319795', '#D69E2E', '#2B6CB0', '#4FD1C5', '#ECC94B', '#4299E1', '#E53E3E', '#805AD5', '#38B2AC'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { 
                        legend: { position: currentLang === 'ar' ? 'left' : 'right' } 
                    }
                }
            });
        }

        // --- QUESTION BANK ---
        const categories = [
            "Basic Accounting", "Saudi & IFRS", "Medical Specific", 
            "Reporting", "Costing", "Systems", 
            "Scenarios", "Compliance", "Ethics", "Behavioral"
        ];

        function renderBankTabs() {
            const container = document.getElementById('category-tabs');
            container.innerHTML = "";
            categories.forEach(cat => {
                const btn = document.createElement('button');
                const catName = uiText[currentLang].cats[cat];
                const isActive = cat === currentCategory;
                btn.className = `whitespace-nowrap px-4 py-2 rounded-full text-sm font-medium transition-all ${isActive ? 'bg-teal-600 text-white shadow-md' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}`;
                btn.innerText = catName;
                btn.onclick = () => {
                    currentCategory = cat;
                    renderBankTabs(); // Re-render to update active class
                    renderQuestions();
                };
                container.appendChild(btn);
            });
        }

        document.getElementById('filter-level').addEventListener('change', (e) => {
            currentLevelFilter = e.target.value;
            renderQuestions();
        });

        function renderQuestions() {
            const container = document.getElementById('questions-container');
            container.innerHTML = "";
            
            const filtered = questionData.filter(q => 
                q.category === currentCategory && 
                (currentLevelFilter === "all" || q.level === currentLevelFilter)
            );

            if (filtered.length === 0) {
                const msg = currentLang === 'en' ? "No questions found." : "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ø¦Ù„Ø© Ø¨Ù‡Ø°Ø§ Ø§Ù„ØªØµÙ†ÙŠÙ.";
                container.innerHTML = `<div class="text-center py-10 text-gray-500">${msg}</div>`;
                return;
            }

            const txt = uiText[currentLang];

            filtered.forEach(q => {
                // Determine content based on language
                const questionText = currentLang === 'en' ? q.q_en : (q.q_ar || q.q_en);
                const answerText = currentLang === 'en' ? q.a_en : (q.a_ar || q.a_en);
                const rubricText = currentLang === 'en' ? q.r_en : (q.r_ar || q.r_en);

                const el = document.createElement('div');
                el.className = "bg-white rounded-lg border border-gray-200 overflow-hidden transition-all duration-300";
                el.innerHTML = `
                    <div class="p-5 cursor-pointer hover:bg-gray-50 flex justify-between items-start gap-4" onclick="toggleAccordion(${q.id})">
                        <div class="flex-1">
                            <div class="flex gap-2 mb-2">
                                <span class="text-xs font-bold px-2 py-0.5 rounded bg-gray-100 text-gray-600">#${q.id}</span>
                                <span class="text-xs font-bold px-2 py-0.5 rounded ${getLevelColor(q.level)}">${q.level}</span>
                                <span class="text-xs font-bold px-2 py-0.5 rounded ${getDifficultyColor(q.difficulty)}">${q.difficulty}</span>
                            </div>
                            <h3 class="font-semibold text-gray-800 text-lg">${questionText}</h3>
                        </div>
                        <span id="icon-${q.id}" class="text-gray-400 transform transition-transform text-xl">â–¼</span>
                    </div>
                    <div id="ans-${q.id}" class="hidden bg-gray-50 border-t border-gray-100 px-5 py-4 animate-fade-in">
                        <div class="mb-3">
                            <h4 class="text-xs font-bold text-teal-600 uppercase tracking-wide mb-1">${txt.modelAnsLabel}</h4>
                            <p class="text-sm text-gray-700 leading-relaxed">${answerText}</p>
                        </div>
                        <div>
                            <h4 class="text-xs font-bold text-orange-500 uppercase tracking-wide mb-1">${txt.rubricLabel}</h4>
                            <p class="text-sm text-gray-600 italic border-s-2 border-orange-200 ps-2">${rubricText}</p>
                        </div>
                    </div>
                `;
                container.appendChild(el);
            });
        }

        function toggleAccordion(id) {
            const content = document.getElementById(`ans-${id}`);
            const icon = document.getElementById(`icon-${id}`);
            if (content.classList.contains('hidden')) {
                content.classList.remove('hidden');
                icon.style.transform = "rotate(180deg)";
            } else {
                content.classList.add('hidden');
                icon.style.transform = "rotate(0deg)";
            }
        }

        function getLevelColor(level) {
            if (level === "Junior") return "bg-green-100 text-green-700";
            if (level === "Mid-Level") return "bg-yellow-100 text-yellow-700";
            return "bg-purple-100 text-purple-700";
        }
        function getDifficultyColor(diff) {
            if (diff === "Easy") return "bg-gray-100 text-gray-600";
            if (diff === "Medium") return "bg-orange-50 text-orange-600";
            return "bg-red-50 text-red-600";
        }

        // --- PRACTICE MODE ---
        let isFlipped = false;

        function toggleFlashcard() {
            const back = document.getElementById('fc-back');
            const btn = document.getElementById('fc-reveal-btn');
            const txt = uiText[currentLang];
            
            if (!isFlipped) {
                back.classList.remove('hidden');
                btn.innerText = txt.btnHide;
                isFlipped = true;
            } else {
                back.classList.add('hidden');
                btn.innerText = txt.btnReveal;
                isFlipped = false;
            }
        }

        function loadRandomQuestion() {
            const back = document.getElementById('fc-back');
            const btn = document.getElementById('fc-reveal-btn');
            const txt = uiText[currentLang];

            back.classList.add('hidden');
            btn.classList.remove('hidden');
            btn.innerText = txt.btnReveal;
            isFlipped = false;

            const rand = questionData[Math.floor(Math.random() * questionData.length)];
            const qTxt = currentLang === 'en' ? rand.q_en : (rand.q_ar || rand.q_en);
            const aTxt = currentLang === 'en' ? rand.a_en : (rand.a_ar || rand.a_en);
            const catTxt = uiText[currentLang].cats[rand.category];

            document.getElementById('fc-badge').innerText = `${catTxt} â€¢ ${rand.difficulty}`;
            document.getElementById('fc-question').innerText = qTxt;
            document.getElementById('fc-answer').innerText = aTxt;
        }

        // Run
        window.addEventListener('DOMContentLoaded', initApp);

    </script>
</body>
</html>